意图识别模块 PRD
1. 功能描述
1.1 功能名称
意图识别模块

1.2 功能概述
该模块旨在通过匹配规则和逐层模型调用的方式，对用户输入的文本进行意图识别。通过关键词初筛和特定模型判断的组合，模块可精确识别用户意图，并具备可扩展性，能够支持数百个场景的判断和扩展。

1.3 适用场景
问候和无明确需求场景：识别用户打招呼或无特定需求的输入。
优惠券咨询场景：判断用户是否在咨询优惠券相关信息。
发货物流咨询场景：识别用户对物流、发货状态的查询。
2. 功能需求
2.1 输入预处理
分词处理：将用户输入的文本分词，保留关键词，去除停用词（如“的”“了”等）以提取核心内容。
输入验证：检测文本有效性（排除空输入或过短文本），异常内容需返回“无法识别意图”的提示。
2.2 场景规则库匹配
关键词与短语匹配：根据预设的场景规则库进行关键词和短语匹配。
每个场景设定一个关键词列表与触发规则，若匹配度高，直接返回匹配场景的意图。
匹配权重分配：匹配结果根据规则库的权重设定进行打分，分值最高的场景进入后续判断流程。
例：问候场景权重低于优惠券和物流咨询场景；若用户输入与多个场景匹配，优先选择权重高的场景进入模型判断。
2.3 模型调用（逐层级联）
场景特定模型调用逻辑：
轻量级模型：首先调用低消耗模型判断，适用于常见明确意图的识别。如打招呼、简单查询类的意图可通过轻量模型快速判定。
场景专用模型：如果低消耗模型不够明确，则调用场景专用模型进一步判断。如优惠券和物流咨询场景，调用专用模型处理更复杂语义。
深度语义模型：当专用模型无法识别时，调用高置信度的深度语义分析模型做最终判定。
退出机制：若某模型判断出意图且置信度高于设定阈值（如0.85），则停止后续模型调用并返回结果。
2.4 异常处理与反馈机制
未识别意图：当所有模型均无法给出准确判断时，返回“无法识别意图”的提示。将该输入记录以供后续优化。
反馈学习机制：保存所有识别记录并标记识别正确与否，通过反馈机制更新规则库和模型参数，以提升长期识别效果。
